<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="rayspock rayspock rayspock rayspock675 https://rayspock.com/ "><meta name=description content="What if we try to store the result of some arithmetic that falls outside of the declared range&amp;hellip;"><meta name=keywords content=",100daysofcode,solidity,ethereum,smart-contracts"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://rayspock.com/posts/solidity-integer/><title>What Happens if You Overflow or Underflow Integer in Solidity? :: Ray Yang</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/main.2a064c455b0ecbd6b1481b3bf9df2441e95838691022f40a5338c2cb1244f075.css integrity="sha256-KgZMRVsOy9axSBs7+d8kQelYOGkQIvQKUzjCyxJE8HU="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta itemprop=name content="What Happens if You Overflow or Underflow Integer in Solidity?"><meta itemprop=description content="What if we try to store the result of some arithmetic that falls outside of the declared range&mldr;"><meta itemprop=datePublished content="2022-07-18T00:00:00+00:00"><meta itemprop=dateModified content="2022-07-18T00:00:00+00:00"><meta itemprop=wordCount content="294"><meta itemprop=keywords content="100daysofcode,solidity,ethereum,smart-contracts,"><meta name=twitter:card content="summary"><meta name=twitter:title content="What Happens if You Overflow or Underflow Integer in Solidity?"><meta name=twitter:description content="What if we try to store the result of some arithmetic that falls outside of the declared range&mldr;"><meta property="article:published_time" content="2022-07-18 00:00:00 +0000 UTC"><script>(function(e,t,n,s,o,i){e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:"1924229",hjsv:6},o=t.getElementsByTagName("head")[0],i=t.createElement("script"),i.async=1,i.src=n+e._hjSettings.hjid+s+e._hjSettings.hjsv,o.appendChild(i)})(window,document,"https://static.hotjar.com/c/hotjar-",".js?sv=")</script><script>localStorage.getItem("theme")||localStorage.setItem("theme","dark")</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-JHBWZFD03W"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JHBWZFD03W",{anonymize_ip:!1})}</script></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>ls rayspock</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/page/about/>about</a></li><li><a href=/page/work/>work</a></li><li><a href=https://blog.rayspock.com>blog</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 minutes</p></div><article><h1 class=post-title><a href=https://rayspock.com/posts/solidity-integer/>What Happens if You Overflow or Underflow Integer in Solidity?</a></h1><div class=post-content><p><img src=elevate-overflow-unsplash.jpg alt=image></p><div class=cn><sub>Photo by <a class="au lc" target=_blank href="https://unsplash.com/@elevatebeer?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Elevate</a> on <a class="au lc" target=_blank href="https://unsplash.com/s/photos/overflow?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></sub></div><br><p>Solidity is a programming language used to write smart contracts that are run on Ethereum Blockchain Node. To be precise, it runs on Ethereum Virtual Machine(EVM). Today, I’m about to share one of the more interesting behaviours I found in Solidity.</p><p><em><strong>Unsigned Integers</strong></em></p><p>Signed integral types (int) can represent both positive numbers and negative numbers, whereas Unsigned ones (uint) can only represent positive integers</p><p><em><strong>Size of Integers</strong></em></p><p>The default size of integers is 32 bytes, which can be declared as <code>uint</code>. Also, we can explicitly specify the size of integers by adding the trailing number of bits such as <code>uint8</code> which can store in 8 bits allowing 256 combinations (0 through 255).</p><p>What if we try to store the result of some arithmetic that falls outside of the declared range? In other programming languages, like Golang, the software may panic and disable the action ( causing an exception in the program), but it&rsquo;s not the case in Solidity(before version 0.8). It will still be runnable without failing the action, but the result won’t be what we expected, it will roll over to the next digit it can represent or store.</p><p>Feel free to try the code snippet below and see if you can overflow or underflow integers.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity><span style=display:flex><span><span style=color:#66d9ef>pragma solidity</span> <span style=color:#f92672>&gt;=</span><span style=color:#ae81ff>0</span>.<span style=color:#ae81ff>6</span>.<span style=color:#ae81ff>0</span> <span style=color:#f92672>&lt;</span><span style=color:#ae81ff>0</span>.<span style=color:#ae81ff>7</span>.<span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>contract</span> <span style=color:#a6e22e>Overflow</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// value range : 0 ~ 255
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>uint8</span> <span style=color:#66d9ef>public</span> balance;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>maxTheBalance</span>() <span style=color:#66d9ef>public</span> {
</span></span><span style=display:flex><span>        balance <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>**</span> <span style=color:#ae81ff>8</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// if the balance was 0, after decreasing it by 1, the balance will become 255
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>decrease</span>() <span style=color:#66d9ef>public</span> {
</span></span><span style=display:flex><span>        balance <span style=color:#f92672>=</span> balance <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// if the balance was 255, after increasing it by 1, the balance will become 0
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>increase</span>() <span style=color:#66d9ef>public</span> {
</span></span><span style=display:flex><span>        balance <span style=color:#f92672>=</span> balance <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; 
</span></span><span style=display:flex><span>    } 
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://rayspock.com/tags/100daysofcode/>100daysofcode</a></span>
<span class=tag><a href=https://rayspock.com/tags/solidity/>solidity</a></span>
<span class=tag><a href=https://rayspock.com/tags/ethereum/>ethereum</a></span>
<span class=tag><a href=https://rayspock.com/tags/smart-contracts/>smart-contracts</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>294 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2022-07-18 00:00</p></div><div class=pagination><div class=pagination__buttons><span class="button previous"><a href=https://rayspock.com/posts/smart-contract/><span class=button__icon>←</span>
<span class=button__text>Let’s Talk About Smart Contracts</span></a></span>
<span class="button next"><a href=https://rayspock.com/posts/event-sourcing/><span class=button__text>Some Thoughts on Using Event Sourcing</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2023</span>
<span><a href=https://rayspock.com/>rayspock</a></span></div></div><div class=footer__inner><div class=footer__content><span>Powered by <a href=http://gohugo.io>Hugo</a></span><span><a href=https://github.com/rhazdon/hugo-theme-hello-friend-ng>Theme</a> made by <a href=https://github.com/rhazdon>rhazdon</a></span></div></div></footer></div><script type=text/javascript src=/bundle.min.c90b8161416b87c69a8e02683b54ddd6edb90aea699648bf655e6cbc45b419b8e465d196e715772463dba35a6faf5decb2eb247480d38680484d54645b434570.js integrity="sha512-yQuBYUFrh8aajgJoO1Td1u25Cupplki/ZV5svEW0GbjkZdGW5xV3JGPbo1pvr13ssuskdIDThoBITVRkW0NFcA=="></script></body></html>